<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-pulse Ve√≠culos El√©tricos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --cor-primaria: #FFC107;
            --cor-secundaria: #000000;
            --cor-destaque: #FFD54F;
            --cor-texto: #212121;
            --cor-texto-claro: #FFFFFF;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--cor-texto);
            line-height: 1.6;
        }

        /* ==================== PAINEL ADMIN ==================== */
        .admin-mode {
            background: linear-gradient(135deg, #FFC107 0%, #FFD54F 100%);
            min-height: 100vh;
        }

        .login-container {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-box {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 450px;
        }

        .login-logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #FFC107 0%, #FFD54F 50%, #000 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            box-shadow: 
                0 10px 30px rgba(255,193,7,0.4),
                0 0 0 5px rgba(255,193,7,0.1);
            border: 5px solid white;
        }

        .login-box h2 {
            color: #FFC107;
            margin-bottom: 30px;
            text-align: center;
            font-size: 2em;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #212121;
            font-weight: 600;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #FFC107;
            box-shadow: 0 0 0 3px rgba(255,193,7,0.1);
        }

        .btn {
            width: 100%;
            padding: 16px;
            background: #FFC107;
            color: #000;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #FFD54F;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,193,7,0.4);
        }

        .btn-success {
            background: #4CAF50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
        }

        .btn-danger {
            background: #f44336;
            color: white;
        }

        .btn-danger:hover {
            background: #da190b;
        }

        .btn-secondary {
            background: #757575;
            color: white;
        }

        .btn-secondary:hover {
            background: #616161;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 0.9em;
            width: auto;
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            border-left: 4px solid #f44336;
        }

        .admin-container {
            display: none;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .admin-header {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .admin-header h1 {
            color: #FFC107;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .header-actions button {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 16px 32px;
            background: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .tab.active {
            background: #FFC107;
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255,193,7,0.4);
        }

        .tab:hover {
            transform: translateY(-2px);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .config-section {
            background: white;
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .section-title {
            color: #FFC107;
            font-size: 1.8em;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #FFC107;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
        }

        .produtos-grid, .depoimentos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .produto-card-admin, .depoimento-card-admin {
            border: 2px solid #f0f0f0;
            padding: 25px;
            border-radius: 15px;
            background: #fafafa;
            transition: all 0.3s;
        }

        .produto-card-admin:hover, .depoimento-card-admin:hover {
            border-color: #FFC107;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(255,193,7,0.2);
        }

        .produto-card-admin h3, .depoimento-card-admin h3 {
            color: #FFC107;
            margin-bottom: 15px;
        }

        .produto-info-admin, .depoimento-info-admin {
            margin: 12px 0;
            color: #424242;
        }

        .produto-actions, .depoimento-actions {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .produto-actions button, .depoimento-actions button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.75);
            z-index: 2000;
            overflow-y: auto;
            padding: 20px;
        }

        .modal-content {
            background: white;
            max-width: 900px;
            margin: 50px auto;
            padding: 40px;
            border-radius: 20px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2.5em;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }

        .modal-close:hover {
            color: #f44336;
        }

        .file-upload {
            margin: 25px 0;
            padding: 30px;
            border: 3px dashed #FFC107;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #fffef7;
        }

        .file-upload:hover {
            background: #fff9e6;
            border-color: #FFD54F;
        }

        .file-upload input[type="file"] {
            display: none;
        }

        .preview-img {
            max-width: 100%;
            max-height: 250px;
            margin: 15px auto;
            display: block;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .fotos-galeria {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .foto-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        .foto-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .foto-item-remove {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-weight: bold;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 5px solid #2196F3;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
            color: #0d47a1;
        }

        .color-picker {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .color-preview {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .categoria-badge {
            display: inline-block;
            background: #FFC107;
            color: #000;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        /* ==================== SITE P√öBLICO ==================== */
        .public-mode {
            background: #f5f5f5;
        }

        .navbar {
            background: var(--cor-secundaria);
            color: var(--cor-texto-claro);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .navbar-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .navbar-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .navbar-logo img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--cor-primaria);
            box-shadow: 0 5px 15px rgba(255,193,7,0.4);
        }

        .navbar-logo-text {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--cor-primaria);
        }

        .navbar-contact {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--cor-texto-claro);
            text-decoration: none;
            transition: color 0.3s;
        }

        .contact-item:hover {
            color: var(--cor-primaria);
        }

        .admin-toggle {
            background: var(--cor-primaria);
            color: var(--cor-secundaria);
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }

        .admin-toggle:hover {
            background: var(--cor-destaque);
            transform: translateY(-2px);
        }

        .hero {
            background: linear-gradient(135deg, rgba(0,0,0,0.7), rgba(0,0,0,0.5)), url('') center/cover;
            background-color: var(--cor-secundaria);
            color: var(--cor-texto-claro);
            text-align: center;
            padding: 100px 30px;
        }

        .hero h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            color: var(--cor-primaria);
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }

        .hero p {
            font-size: 1.5em;
            margin-bottom: 30px;
        }

        .hero-banner {
            background: var(--cor-primaria);
            color: var(--cor-secundaria);
            padding: 20px;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 30px;
            border-radius: 10px;
            display: inline-block;
        }

        .filtros-container {
            max-width: 1400px;
            margin: 50px auto;
            padding: 0 30px;
        }

        .filtros {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 40px;
        }

        .filtro-btn {
            padding: 15px 35px;
            background: white;
            border: 3px solid var(--cor-primaria);
            color: var(--cor-texto);
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: all 0.3s;
        }

        .filtro-btn:hover, .filtro-btn.active {
            background: var(--cor-primaria);
            color: var(--cor-secundaria);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255,193,7,0.3);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto 60px auto;
            padding: 0 30px;
        }

        .produtos-grid-public {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 40px;
        }

        .produto-card-public {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 35px rgba(0,0,0,0.15);
            transition: all 0.4s ease;
            border: 3px solid transparent;
        }

        .produto-card-public:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(255,193,7,0.4);
            border-color: var(--cor-primaria);
        }

        .produto-galeria {
            position: relative;
            height: 300px;
            background: #f5f5f5;
            overflow: hidden;
        }

        .galeria-main {
            width: 100%;
            height: 100%;
            display: flex;
            transition: transform 0.5s ease;
        }

        .galeria-item {
            min-width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .galeria-item img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .galeria-placeholder {
            font-size: 5em;
            color: var(--cor-primaria);
        }

        .galeria-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
            transform: translateY(-50%);
        }

        .galeria-btn {
            background: rgba(255,193,7,0.9);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5em;
            color: var(--cor-secundaria);
            transition: all 0.3s;
        }

        .galeria-btn:hover {
            background: var(--cor-primaria);
            transform: scale(1.1);
        }

        .galeria-dots {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .galeria-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.6);
            cursor: pointer;
            transition: all 0.3s;
        }

        .galeria-dot.active {
            background: var(--cor-primaria);
            width: 30px;
            border-radius: 6px;
        }

        .produto-info {
            padding: 30px;
        }

        .produto-categoria-public {
            display: inline-block;
            background: var(--cor-primaria);
            color: var(--cor-secundaria);
            padding: 6px 18px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .produto-nome-public {
            font-size: 2em;
            color: var(--cor-secundaria);
            margin-bottom: 15px;
            font-weight: bold;
        }

        .produto-descricao {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .specs {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .spec-item {
            display: flex;
            flex-direction: column;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid var(--cor-primaria);
        }

        .spec-label {
            font-weight: 600;
            color: #666;
            font-size: 0.85em;
        }

        .spec-value {
            color: var(--cor-secundaria);
            font-weight: bold;
            font-size: 1.1em;
        }

        .preco-section {
            margin: 25px 0;
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #fff9e6 0%, #fffef7 100%);
            border-radius: 12px;
            border: 2px solid var(--cor-primaria);
        }

        .preco-de {
            text-decoration: line-through;
            color: #999;
            font-size: 1.1em;
        }

        .preco-por {
            font-size: 3em;
            color: var(--cor-primaria);
            font-weight: bold;
            margin: 12px 0;
        }

        .preco-parcelado {
            color: #4CAF50;
            font-size: 1.2em;
            font-weight: 700;
        }

        .economia-badge {
            background: #4CAF50;
            color: white;
            padding: 12px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
        }

        .btn-whatsapp {
            display: block;
            width: 100%;
            background: #25D366;
            color: white;
            text-align: center;
            padding: 18px;
            text-decoration: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 1.15em;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .btn-whatsapp:hover {
            background: #20ba5a;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37,211,102,0.4);
        }

        .whatsapp-flutuante {
            position: fixed;
            bottom: 35px;
            right: 35px;
            background: #25D366;
            color: white;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            box-shadow: 0 6px 20px rgba(37,211,102,0.5);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
            text-decoration: none;
        }

        .whatsapp-flutuante:hover {
            transform: scale(1.15);
        }

        .depoimentos-section {
            background: linear-gradient(135deg, var(--cor-secundaria) 0%, #1a1a1a 100%);
            padding: 80px 30px;
            margin-top: 80px;
        }

        .depoimentos-title {
            text-align: center;
            color: var(--cor-primaria);
            font-size: 2.5em;
            margin-bottom: 50px;
        }

        .depoimentos-grid-public {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 35px;
        }

        .depoimento-card-public {
            background: white;
            padding: 35px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.3s;
            border-left: 5px solid var(--cor-primaria);
        }

        .depoimento-card-public:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(255,193,7,0.4);
        }

        .depoimento-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .depoimento-foto {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--cor-primaria);
        }

        .depoimento-foto-placeholder {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: var(--cor-primaria);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
        }

        .depoimento-info h4 {
            color: var(--cor-secundaria);
            font-size: 1.3em;
        }

        .depoimento-produto {
            color: var(--cor-primaria);
            font-weight: bold;
        }

        .depoimento-texto {
            color: #444;
            line-height: 1.8;
            font-style: italic;
        }

        .footer {
            background: var(--cor-secundaria);
            color: var(--cor-texto-claro);
            text-align: center;
            padding: 50px 30px;
        }

        .footer h3 {
            color: var(--cor-primaria);
            font-size: 2em;
            margin-bottom: 15px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--cor-texto-claro);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-link:hover {
            color: var(--cor-primaria);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .form-row, .form-row-3 {
                grid-template-columns: 1fr;
            }

            .produtos-grid, .produtos-grid-public, .depoimentos-grid, .depoimentos-grid-public {
                grid-template-columns: 1fr;
            }

            .specs-grid {
                grid-template-columns: 1fr;
            }

            .hero h1 {
                font-size: 2.2em;
            }

            .navbar-container {
                flex-direction: column;
            }

            .modal-content {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <!-- ==================== MODO ADMIN ==================== -->
    <div id="adminMode" class="admin-mode" style="display:none;">
        <!-- Login -->
        <div class="login-container" id="loginContainer">
            <div class="login-box">
                <div class="login-logo">‚ö°</div>
                <h2>Painel Admin E-pulse</h2>
                <p class="login-subtitle">Sistema Ultra Seguro</p>
                
                <div class="security-badge">
                    üõ°Ô∏è Prote√ß√£o Ativada
                </div>

                <div class="error-message" id="errorMessage"></div>
                <div class="success-message" id="successMessage"></div>

                <form id="loginForm">
                    <div class="form-group">
                        <label>Usu√°rio:</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label>Senha:</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="btn">üîê Entrar no Painel</button>
                </form>
                <button onclick="voltarParaSite()" class="btn btn-secondary" style="margin-top: 15px;">üåê Voltar ao Site</button>
            </div>
        </div>

        <!-- Painel Admin -->
        <div class="admin-container" id="adminContainer">
            <div class="admin-header">
                <h1><span>‚ö°</span> Painel Admin E-pulse</h1>
                <div class="header-actions">
                    <button class="btn" onclick="verSite()">üåê Ver Site</button>
                    <button class="btn-danger" onclick="logout()">üö™ Sair</button>
                </div>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="abrirTab('visual')">üé® Visual</button>
                <button class="tab" onclick="abrirTab('config')">‚öôÔ∏è Config</button>
                <button class="tab" onclick="abrirTab('categorias')">üìÇ Categorias</button>
                <button class="tab" onclick="abrirTab('produtos')">üõ¥ Produtos</button>
                <button class="tab" onclick="abrirTab('depoimentos')">üí¨ Depoimentos</button>
            </div>

            <!-- Tabs content abaixo... continuarei no pr√≥ximo arquivo devido ao limite de caracteres -->
            
            <div class="tab-content active" id="visual-tab">
                <div class="config-section">
                    <h2 class="section-title">üé® Identidade Visual</h2>
                    <div class="info-box">
                        üí° Todas as altera√ß√µes s√£o salvas automaticamente no navegador. N√£o precisa baixar nada!
                    </div>
                    
                    <form id="visualForm" onsubmit="salvarVisual(event)">
                        <h3 style="margin: 25px 0 15px 0;">Logo</h3>
                        <div class="file-upload" onclick="document.getElementById('logoUpload').click()">
                            <input type="file" id="logoUpload" accept="image/*" onchange="previewLogo(event)">
                            <p>üì∑ Upload do LOGO</p>
                            <img id="logoPreview" class="preview-img" style="display:none;">
                        </div>

                        <h3 style="margin: 25px 0 15px 0;">Fundo do Site</h3>
                        <div class="file-upload" onclick="document.getElementById('bgUpload').click()">
                            <input type="file" id="bgUpload" accept="image/*" onchange="previewBg(event)">
                            <p>üñºÔ∏è Upload FUNDO</p>
                            <img id="bgPreview" class="preview-img" style="display:none;">
                        </div>

                        <h3 style="margin: 25px 0 15px 0;">Cores</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Prim√°ria (Amarelo):</label>
                                <div class="color-picker">
                                    <input type="color" id="corPrimaria" value="#FFC107">
                                    <div class="color-preview" id="prevPrimaria" style="background:#FFC107;"></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Secund√°ria (Preto):</label>
                                <div class="color-picker">
                                    <input type="color" id="corSecundaria" value="#000000">
                                    <div class="color-preview" id="prevSecundaria" style="background:#000000;"></div>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-success">üíæ Salvar Visual</button>
                    </form>
                </div>
            </div>

            <div class="tab-content" id="config-tab">
                <div class="config-section">
                    <h2 class="section-title">‚öôÔ∏è Configura√ß√µes</h2>
                    <form id="configForm" onsubmit="salvarConfig(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Nome:</label>
                                <input type="text" id="nomeEmpresa" required>
                            </div>
                            <div class="form-group">
                                <label>Subt√≠tulo:</label>
                                <input type="text" id="subtitulo" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>WhatsApp (com DDI):</label>
                                <input type="text" id="whatsapp" placeholder="5548999999999" required>
                            </div>
                            <div class="form-group">
                                <label>Instagram:</label>
                                <input type="text" id="instagram" placeholder="@epulse" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Texto Destaque:</label>
                            <textarea id="destaque" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Endere√ßo:</label>
                            <input type="text" id="endereco" required>
                        </div>
                        <button type="submit" class="btn btn-success">üíæ Salvar</button>
                    </form>
                </div>
            </div>

            <div class="tab-content" id="categorias-tab">
                <div class="config-section">
                    <h2 class="section-title">üìÇ Categorias</h2>
                    <button class="btn" onclick="abrirModalCategoria()">+ Adicionar</button>
                    <div id="categoriasLista" style="margin-top:25px;"></div>
                </div>
            </div>

            <div class="tab-content" id="produtos-tab">
                <div class="config-section">
                    <h2 class="section-title">üõ¥ Produtos</h2>
                    <button class="btn" onclick="abrirModalProduto()">+ Adicionar</button>
                    <div class="produtos-grid" id="produtosGrid"></div>
                </div>
            </div>

            <div class="tab-content" id="depoimentos-tab">
                <div class="config-section">
                    <h2 class="section-title">üí¨ Depoimentos</h2>
                    <button class="btn" onclick="abrirModalDepoimento()">+ Adicionar</button>
                    <div class="depoimentos-grid" id="depoimentosGrid"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ==================== MODO P√öBLICO ==================== -->
    <div id="publicMode" class="public-mode">
        <nav class="navbar">
            <div class="navbar-container">
                <div class="navbar-logo" id="navLogo">
                    <span class="navbar-logo-text">‚ö° E-pulse</span>
                </div>
                <div class="navbar-contact">
                    <a href="#" class="contact-item" id="navWhatsapp">üì± WhatsApp</a>
                    <a href="#" class="contact-item" id="navInstagram">üì∏ Instagram</a>
                    <button class="admin-toggle" onclick="irParaAdmin()">‚öôÔ∏è Admin</button>
                </div>
            </div>
        </nav>

        <div class="hero" id="heroSection">
            <h1 id="heroNome">E-pulse Ve√≠culos El√©tricos</h1>
            <p id="heroSubtitulo">A maior loja de ve√≠culos el√©tricos de Crici√∫ma e Regi√£o</p>
            <div class="hero-banner" id="heroDestaque">
                ‚ö° ECONOMIZE AT√â R$ 500/M√äS EM COMBUST√çVEL
            </div>
        </div>

        <div class="filtros-container" id="filtrosContainer" style="display:none;">
            <div class="filtros" id="filtros"></div>
        </div>

        <div class="container">
            <div class="produtos-grid-public" id="produtosGridPublic"></div>
        </div>

        <div class="depoimentos-section" id="depoimentosSection" style="display:none;">
            <h2 class="depoimentos-title">üí¨ Depoimentos</h2>
            <div class="depoimentos-grid-public" id="depoimentosGridPublic"></div>
        </div>

        <a href="#" id="whatsappFlutuante" class="whatsapp-flutuante">üì±</a>

        <div class="footer">
            <div class="footer-content">
                <h3 id="footerNome">E-pulse</h3>
                <div class="footer-links">
                    <a href="#" class="footer-link" id="footerWhatsapp">üì± WhatsApp</a>
                    <a href="#" class="footer-link" id="footerInstagram">üì∏ Instagram</a>
                </div>
                <p id="footerEndereco">Crici√∫ma - SC</p>
                <p style="margin-top:20px;opacity:0.8;">¬© 2025 E-pulse - Mobilidade El√©trica</p>
            </div>
        </div>
    </div>

    <!-- Modais -->
    <div class="modal" id="modalCategoria">
        <div class="modal-content">
            <span class="modal-close" onclick="fecharModal('modalCategoria')">&times;</span>
            <h2 style="color:#FFC107;margin-bottom:25px;" id="tituloCat">Categoria</h2>
            <form id="catForm" onsubmit="salvarCategoria(event)">
                <input type="hidden" id="catId">
                <div class="form-group">
                    <label>Nome:</label>
                    <input type="text" id="catNome" required>
                </div>
                <div class="form-group">
                    <label>√çcone (emoji):</label>
                    <input type="text" id="catIcone" placeholder="üõ¥" required>
                </div>
                <button type="submit" class="btn btn-success">üíæ Salvar</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalProduto">
        <div class="modal-content">
            <span class="modal-close" onclick="fecharModal('modalProduto')">&times;</span>
            <h2 style="color:#FFC107;margin-bottom:25px;" id="tituloProd">Produto</h2>
            <form id="prodForm" onsubmit="salvarProduto(event)">
                <input type="hidden" id="prodId">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nome:</label>
                        <input type="text" id="prodNome" required>
                    </div>
                    <div class="form-group">
                        <label>Categoria:</label>
                        <select id="prodCategoria" required></select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Descri√ß√£o:</label>
                    <textarea id="prodDesc" rows="2"></textarea>
                </div>
                <h3 style="margin:20px 0 10px;">Fotos</h3>
                <div class="file-upload" onclick="document.getElementById('prodFotos').click()">
                    <input type="file" id="prodFotos" multiple accept="image/*" onchange="addFotos(event)">
                    <p>üì∑ Adicionar Fotos</p>
                </div>
                <div class="fotos-galeria" id="fotosGal"></div>
                <h3 style="margin:20px 0 10px;">Especifica√ß√µes</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Velocidade:</label>
                        <input type="text" id="prodVel" placeholder="45 km/h">
                    </div>
                    <div class="form-group">
                        <label>Autonomia:</label>
                        <input type="text" id="prodAut" placeholder="40 km">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Pot√™ncia:</label>
                        <input type="text" id="prodPot" placeholder="800W">
                    </div>
                    <div class="form-group">
                        <label>Bateria:</label>
                        <input type="text" id="prodBat" placeholder="48V 12Ah">
                    </div>
                </div>
                <h3 style="margin:20px 0 10px;">Pre√ßos</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>De (R$):</label>
                        <input type="number" id="prodDe">
                    </div>
                    <div class="form-group">
                        <label>Por (R$):</label>
                        <input type="number" id="prodPor" required>
                    </div>
                </div>
                <h3 style="margin:25px 0 15px;color:#000;font-size:1.4em;">üí≥ Op√ß√µes de Parcelamento</h3>
                <div class="form-row-3">
                    <div class="form-group">
                        <label>12x de R$:</label>
                        <input type="number" step="0.01" id="prodParc12" placeholder="Ex: 150.00">
                        <div style="margin-top:8px;">
                            <label style="display:flex;align-items:center;gap:8px;font-weight:normal;cursor:pointer;">
                                <input type="checkbox" id="prodParc12SemJuros" style="width:auto;">
                                Sem juros
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>18x de R$:</label>
                        <input type="number" step="0.01" id="prodParc18" placeholder="Ex: 110.00">
                        <div style="margin-top:8px;">
                            <label style="display:flex;align-items:center;gap:8px;font-weight:normal;cursor:pointer;">
                                <input type="checkbox" id="prodParc18SemJuros" style="width:auto;">
                                Sem juros
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>24x de R$:</label>
                        <input type="number" step="0.01" id="prodParc24" placeholder="Ex: 85.00">
                        <div style="margin-top:8px;">
                            <label style="display:flex;align-items:center;gap:8px;font-weight:normal;cursor:pointer;">
                                <input type="checkbox" id="prodParc24SemJuros" style="width:auto;">
                                Sem juros
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Outras Parcelas (opcional):</label>
                        <input type="number" id="prodParc" placeholder="Ex: 6">
                    </div>
                    <div class="form-group">
                        <label>Valor Parcela:</label>
                        <input type="number" step="0.01" id="prodValParc" placeholder="Ex: 300.00">
                    </div>
                </div>
                <div class="form-group">
                    <label>Mensagem WhatsApp:</label>
                    <textarea id="prodMsg" rows="2"></textarea>
                </div>
                <button type="submit" class="btn btn-success">üíæ Salvar</button>
            </form>
        </div>
    </div>

    <div class="modal" id="modalDepoimento">
        <div class="modal-content" style="max-width:700px;">
            <span class="modal-close" onclick="fecharModal('modalDepoimento')">&times;</span>
            <h2 style="color:#FFC107;margin-bottom:25px;" id="tituloDep">Depoimento</h2>
            <form id="depForm" onsubmit="salvarDepoimento(event)">
                <input type="hidden" id="depId">
                <div class="form-group">
                    <label>Nome:</label>
                    <input type="text" id="depNome" required>
                </div>
                <div class="form-group">
                    <label>Produto:</label>
                    <input type="text" id="depProduto" required>
                </div>
                <div class="file-upload" onclick="document.getElementById('depFoto').click()">
                    <input type="file" id="depFoto" accept="image/*" onchange="previewDepFoto(event)">
                    <p>üì∑ Foto (opcional)</p>
                    <img id="depFotoPreview" class="preview-img" style="display:none;">
                </div>
                <div class="form-group">
                    <label>Depoimento:</label>
                    <textarea id="depTexto" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-success">üíæ Salvar</button>
            </form>
        </div>
    </div>

    <script>
        // ==================== SISTEMA DE SEGURAN√áA ULTRA BLINDADO ====================
        
        // CAMADA 1: Anti-DevTools
        let devtoolsOpen = false;
        setInterval(() => {
            const threshold = 160;
            const widthCheck = window.outerWidth - window.innerWidth > threshold;
            const heightCheck = window.outerHeight - window.innerHeight > threshold;
            if ((widthCheck || heightCheck) && !devtoolsOpen) {
                devtoolsOpen = true;
                alert('‚ö†Ô∏è ALERTA: Console detectado! Sistema de seguran√ßa ativo.');
            }
        }, 2000);

        // CAMADA 2: Bloqueio de atalhos
        document.addEventListener('keydown', (e) => {
            if (e.keyCode === 123 || 
                (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) ||
                (e.ctrlKey && e.keyCode === 85)) {
                e.preventDefault();
                alert('üîí Atalho bloqueado por seguran√ßa');
                return false;
            }
        });

        // CAMADA 3: Bloqueio menu contexto
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });

        // ==================== CREDENCIAIS ADMIN ====================
        const ADMIN_USER = 'epulse4312';
        const ADMIN_PASS = '@alohavero8538';
        let loggedIn = false;

        // ==================== SISTEMA DE LOGIN ====================
        document.getElementById('loginForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const user = document.getElementById('username').value.trim();
            const pass = document.getElementById('password').value;

            if (user === ADMIN_USER && pass === ADMIN_PASS) {
                loggedIn = true;
                mostrarMensagem('success', '‚úÖ Acesso autorizado!');
                setTimeout(() => {
                    document.getElementById('loginContainer').style.display = 'none';
                    document.getElementById('adminContainer').style.display = 'block';
                    atualizarAdmin();
                }, 1000);
            } else {
                mostrarMensagem('error', '‚ùå Usu√°rio ou senha incorretos!');
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
            }
        });

        function mostrarMensagem(tipo, texto) {
            const tipos = ['error', 'success'];
            tipos.forEach(t => {
                const el = document.getElementById(t + 'Message');
                if (el) el.style.display = 'none';
            });
            const el = document.getElementById(tipo + 'Message');
            if (el) {
                el.textContent = texto;
                el.style.display = 'block';
            }
        }

        function logout() {
            if (confirm('Deseja sair?')) {
                loggedIn = false;
                document.getElementById('usernameInput').value = '';
                document.getElementById('passwordInput').value = '';
                voltarParaSite();
            }
        }

        // ==================== SISTEMA DE DADOS ==================== 
        let dados = {
            config: {
                nome: 'E-pulse Ve√≠culos El√©tricos',
                subtitulo: 'A maior loja de ve√≠culos el√©tricos de Crici√∫ma e Regi√£o',
                whatsapp: '5548999999999',
                instagram: '@epulse',
                destaque: '‚ö° ECONOMIZE AT√â R$ 500/M√äS EM COMBUST√çVEL ‚Ä¢ SEM HABILITA√á√ÉO ‚Ä¢ SEM IPVA ‚ö°',
                endereco: 'Crici√∫ma e Regi√£o - SC',
                logo: '',
                bg: '',
                cores: {
                    primaria: '#FFC107',
                    secundaria: '#000000'
                }
            },
            categorias: [
                {id:'scooters',nome:'Scooters El√©tricas',icone:'üõµ'},
                {id:'bikes',nome:'Bikes El√©tricas',icone:'üö≤'}
            ],
            produtos: [],
            depoimentos: []
        };

        let fotosTemp = [];
        let categoriaAtual = 'todos';
        let galerias = {};

        // Carregar dados do LocalStorage
        function carregarDados() {
            const salvos = localStorage.getItem('epulseData');
            if (salvos) {
                dados = JSON.parse(salvos);
            }
        }

        // Salvar dados no LocalStorage
        function salvarDados() {
            localStorage.setItem('epulseData', JSON.stringify(dados));
        }

        // Inicializar
        window.onload = function() {
            carregarDados();
            mostrarSitePublico();
        };

        // ==================== NAVEGA√á√ÉO ==================== 
        function irParaAdmin() {
            document.getElementById('publicMode').style.display = 'none';
            document.getElementById('adminMode').style.display = 'block';
            document.getElementById('loginContainer').style.display = 'flex';
            document.getElementById('adminContainer').style.display = 'none';
        }

        function voltarParaSite() {
            mostrarSitePublico();
        }

        function verSite() {
            mostrarSitePublico();
        }

        function mostrarSitePublico() {
            document.getElementById('adminMode').style.display = 'none';
            document.getElementById('publicMode').style.display = 'block';
            renderizarSitePublico();
        }

        // ==================== LOGIN ==================== 
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const user = document.getElementById('username').value;
            const pass = document.getElementById('password').value;
            
            if (user === 'Chacal' && pass === '@Ws4312') {
                document.getElementById('loginContainer').style.display = 'none';
                document.getElementById('adminContainer').style.display = 'block';
                atualizarAdmin();
            } else {
                document.getElementById('errorMessage').style.display = 'block';
            }
        });

        function logout() {
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            document.getElementById('errorMessage').style.display = 'none';
            voltarParaSite();
        }

        // ==================== TABS ==================== 
        function abrirTab(nome) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(nome + '-tab').classList.add('active');
        }

        // ==================== ADMIN ==================== 
        function atualizarAdmin() {
            // Visual
            if (dados.config.logo) {
                document.getElementById('logoPreview').src = dados.config.logo;
                document.getElementById('logoPreview').style.display = 'block';
            }
            if (dados.config.bg) {
                document.getElementById('bgPreview').src = dados.config.bg;
                document.getElementById('bgPreview').style.display = 'block';
            }
            document.getElementById('corPrimaria').value = dados.config.cores.primaria;
            document.getElementById('prevPrimaria').style.background = dados.config.cores.primaria;
            document.getElementById('corSecundaria').value = dados.config.cores.secundaria;
            document.getElementById('prevSecundaria').style.background = dados.config.cores.secundaria;

            // Config
            document.getElementById('nomeEmpresa').value = dados.config.nome;
            document.getElementById('subtitulo').value = dados.config.subtitulo;
            document.getElementById('whatsapp').value = dados.config.whatsapp;
            document.getElementById('instagram').value = dados.config.instagram;
            document.getElementById('destaque').value = dados.config.destaque;
            document.getElementById('endereco').value = dados.config.endereco;

            renderizarCategorias();
            renderizarProdutosAdmin();
            renderizarDepoimentosAdmin();
            atualizarSelectCat();

            // Color listeners
            document.getElementById('corPrimaria').oninput = (e) => {
                document.getElementById('prevPrimaria').style.background = e.target.value;
            };
            document.getElementById('corSecundaria').oninput = (e) => {
                document.getElementById('prevSecundaria').style.background = e.target.value;
            };
        }

        // Preview imagens
        function previewLogo(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    document.getElementById('logoPreview').src = ev.target.result;
                    document.getElementById('logoPreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }

        function previewBg(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    document.getElementById('bgPreview').src = ev.target.result;
                    document.getElementById('bgPreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }

        function previewDepFoto(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    document.getElementById('depFotoPreview').src = ev.target.result;
                    document.getElementById('depFotoPreview').style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        }

        // Salvar Visual
        function salvarVisual(e) {
            e.preventDefault();
            const logo = document.getElementById('logoPreview').src;
            const bg = document.getElementById('bgPreview').src;
            if (logo && !logo.includes('blob:')) dados.config.logo = logo;
            if (bg && !bg.includes('blob:')) dados.config.bg = bg;
            dados.config.cores.primaria = document.getElementById('corPrimaria').value;
            dados.config.cores.secundaria = document.getElementById('corSecundaria').value;
            salvarDados();
            alert('‚úÖ Visual salvo!');
        }

        // Salvar Config
        function salvarConfig(e) {
            e.preventDefault();
            dados.config.nome = document.getElementById('nomeEmpresa').value;
            dados.config.subtitulo = document.getElementById('subtitulo').value;
            dados.config.whatsapp = document.getElementById('whatsapp').value;
            dados.config.instagram = document.getElementById('instagram').value;
            dados.config.destaque = document.getElementById('destaque').value;
            dados.config.endereco = document.getElementById('endereco').value;
            salvarDados();
            alert('‚úÖ Configura√ß√µes salvas!');
        }

        // Categorias
        function renderizarCategorias() {
            const lista = document.getElementById('categoriasLista');
            lista.innerHTML = '';
            dados.categorias.forEach(cat => {
                const div = document.createElement('div');
                div.className = 'produto-card-admin';
                div.innerHTML = `
                    <h3>${cat.icone} ${cat.nome}</h3>
                    <div class="produto-actions">
                        <button class="btn" onclick="editarCat('${cat.id}')">‚úèÔ∏è</button>
                        <button class="btn-danger" onclick="excluirCat('${cat.id}')">üóëÔ∏è</button>
                    </div>
                `;
                lista.appendChild(div);
            });
        }

        function abrirModalCategoria(id = null) {
            document.getElementById('modalCategoria').style.display = 'block';
            document.getElementById('catForm').reset();
            if (id) {
                const cat = dados.categorias.find(c => c.id === id);
                document.getElementById('tituloCat').textContent = 'Editar Categoria';
                document.getElementById('catId').value = cat.id;
                document.getElementById('catNome').value = cat.nome;
                document.getElementById('catIcone').value = cat.icone;
            } else {
                document.getElementById('tituloCat').textContent = 'Nova Categoria';
                document.getElementById('catId').value = '';
            }
        }

        function salvarCategoria(e) {
            e.preventDefault();
            const id = document.getElementById('catId').value;
            const cat = {
                id: id || Date.now().toString(),
                nome: document.getElementById('catNome').value,
                icone: document.getElementById('catIcone').value
            };
            if (id) {
                const idx = dados.categorias.findIndex(c => c.id === id);
                dados.categorias[idx] = cat;
            } else {
                dados.categorias.push(cat);
            }
            salvarDados();
            renderizarCategorias();
            atualizarSelectCat();
            fecharModal('modalCategoria');
            alert('‚úÖ Categoria salva!');
        }

        function editarCat(id) {
            abrirModalCategoria(id);
        }

        function excluirCat(id) {
            if (confirm('Excluir?')) {
                dados.categorias = dados.categorias.filter(c => c.id !== id);
                salvarDados();
                renderizarCategorias();
                atualizarSelectCat();
            }
        }

        function atualizarSelectCat() {
            const sel = document.getElementById('prodCategoria');
            sel.innerHTML = '<option value="">Selecione</option>';
            dados.categorias.forEach(cat => {
                const opt = document.createElement('option');
                opt.value = cat.id;
                opt.textContent = cat.icone + ' ' + cat.nome;
                sel.appendChild(opt);
            });
        }

        // Produtos
        function renderizarProdutosAdmin() {
            const grid = document.getElementById('produtosGrid');
            grid.innerHTML = '';
            dados.produtos.forEach(prod => {
                const cat = dados.categorias.find(c => c.id === prod.categoria);
                const div = document.createElement('div');
                div.className = 'produto-card-admin';
                div.innerHTML = `
                    <h3>${prod.nome}</h3>
                    ${cat ? `<span class="categoria-badge">${cat.icone} ${cat.nome}</span>` : ''}
                    ${prod.fotos && prod.fotos[0] ? `<img src="${prod.fotos[0]}" style="width:100%;max-width:200px;margin:10px 0;border-radius:10px;">` : ''}
                    <div class="produto-info-admin"><strong>Pre√ßo:</strong> R$ ${prod.preco}</div>
                    <div class="produto-info-admin"><strong>Fotos:</strong> ${prod.fotos ? prod.fotos.length : 0}</div>
                    <div class="produto-actions">
                        <button class="btn" onclick="editarProd(${prod.id})">‚úèÔ∏è</button>
                        <button class="btn-danger" onclick="excluirProd(${prod.id})">üóëÔ∏è</button>
                    </div>
                `;
                grid.appendChild(div);
            });
        }

        function abrirModalProduto(id = null) {
            document.getElementById('modalProduto').style.display = 'block';
            document.getElementById('prodForm').reset();
            fotosTemp = [];
            document.getElementById('fotosGal').innerHTML = '';
            atualizarSelectCat();
            
            if (id) {
                const prod = dados.produtos.find(p => p.id === id);
                document.getElementById('tituloProd').textContent = 'Editar Produto';
                document.getElementById('prodId').value = prod.id;
                document.getElementById('prodNome').value = prod.nome;
                document.getElementById('prodCategoria').value = prod.categoria;
                document.getElementById('prodDesc').value = prod.descricao || '';
                document.getElementById('prodVel').value = prod.velocidade || '';
                document.getElementById('prodAut').value = prod.autonomia || '';
                document.getElementById('prodPot').value = prod.potencia || '';
                document.getElementById('prodBat').value = prod.bateria || '';
                document.getElementById('prodDe').value = prod.precoDe || '';
                document.getElementById('prodPor').value = prod.preco;
                document.getElementById('prodParc12').value = prod.parc12 || '';
                document.getElementById('prodParc12SemJuros').checked = prod.parc12SemJuros || false;
                document.getElementById('prodParc18').value = prod.parc18 || '';
                document.getElementById('prodParc18SemJuros').checked = prod.parc18SemJuros || false;
                document.getElementById('prodParc24').value = prod.parc24 || '';
                document.getElementById('prodParc24SemJuros').checked = prod.parc24SemJuros || false;
                document.getElementById('prodParc').value = prod.parcelas || '';
                document.getElementById('prodValParc').value = prod.valParc || '';
                document.getElementById('prodMsg').value = prod.msgWhats || '';
                if (prod.fotos) {
                    fotosTemp = [...prod.fotos];
                    renderizarFotosGal();
                }
            } else {
                document.getElementById('tituloProd').textContent = 'Novo Produto';
                document.getElementById('prodId').value = '';
            }
        }

        function addFotos(e) {
            Array.from(e.target.files).forEach(file => {
                const reader = new FileReader();
                reader.onload = (ev) => {
                    fotosTemp.push(ev.target.result);
                    renderizarFotosGal();
                };
                reader.readAsDataURL(file);
            });
        }

        function renderizarFotosGal() {
            const gal = document.getElementById('fotosGal');
            gal.innerHTML = '';
            fotosTemp.forEach((foto, i) => {
                const div = document.createElement('div');
                div.className = 'foto-item';
                div.innerHTML = `
                    <img src="${foto}">
                    <button class="foto-item-remove" onclick="removerFoto(${i})">√ó</button>
                `;
                gal.appendChild(div);
            });
        }

        function removerFoto(idx) {
            fotosTemp.splice(idx, 1);
            renderizarFotosGal();
        }

        function salvarProduto(e) {
            e.preventDefault();
            const id = document.getElementById('prodId').value;
            const prod = {
                id: id ? parseInt(id) : Date.now(),
                nome: document.getElementById('prodNome').value,
                categoria: document.getElementById('prodCategoria').value,
                descricao: document.getElementById('prodDesc').value,
                fotos: [...fotosTemp],
                velocidade: document.getElementById('prodVel').value,
                autonomia: document.getElementById('prodAut').value,
                potencia: document.getElementById('prodPot').value,
                bateria: document.getElementById('prodBat').value,
                precoDe: document.getElementById('prodDe').value,
                preco: document.getElementById('prodPor').value,
                parc12: document.getElementById('prodParc12').value,
                parc12SemJuros: document.getElementById('prodParc12SemJuros').checked,
                parc18: document.getElementById('prodParc18').value,
                parc18SemJuros: document.getElementById('prodParc18SemJuros').checked,
                parc24: document.getElementById('prodParc24').value,
                parc24SemJuros: document.getElementById('prodParc24SemJuros').checked,
                parcelas: document.getElementById('prodParc').value,
                valParc: document.getElementById('prodValParc').value,
                msgWhats: document.getElementById('prodMsg').value
            };
            
            if (id) {
                const idx = dados.produtos.findIndex(p => p.id === parseInt(id));
                dados.produtos[idx] = prod;
            } else {
                dados.produtos.push(prod);
            }
            salvarDados();
            renderizarProdutosAdmin();
            fecharModal('modalProduto');
            alert('‚úÖ Produto salvo!');
        }

        function editarProd(id) {
            abrirModalProduto(id);
        }

        function excluirProd(id) {
            if (confirm('Excluir produto?')) {
                dados.produtos = dados.produtos.filter(p => p.id !== id);
                salvarDados();
                renderizarProdutosAdmin();
            }
        }

        // Depoimentos
        function renderizarDepoimentosAdmin() {
            const grid = document.getElementById('depoimentosGrid');
            grid.innerHTML = '';
            dados.depoimentos.forEach(dep => {
                const div = document.createElement('div');
                div.className = 'depoimento-card-admin';
                div.innerHTML = `
                    <h3>${dep.nome}</h3>
                    ${dep.foto ? `<img src="${dep.foto}" style="width:70px;height:70px;border-radius:50%;margin:10px 0;object-fit:cover;">` : ''}
                    <div class="depoimento-info-admin"><strong>Produto:</strong> ${dep.produto}</div>
                    <div class="depoimento-info-admin">"${dep.texto.substring(0,60)}..."</div>
                    <div class="depoimento-actions">
                        <button class="btn" onclick="editarDep(${dep.id})">‚úèÔ∏è</button>
                        <button class="btn-danger" onclick="excluirDep(${dep.id})">üóëÔ∏è</button>
                    </div>
                `;
                grid.appendChild(div);
            });
        }

        function abrirModalDepoimento(id = null) {
            document.getElementById('modalDepoimento').style.display = 'block';
            document.getElementById('depForm').reset();
            document.getElementById('depFotoPreview').style.display = 'none';
            
            if (id) {
                const dep = dados.depoimentos.find(d => d.id === id);
                document.getElementById('tituloDep').textContent = 'Editar Depoimento';
                document.getElementById('depId').value = dep.id;
                document.getElementById('depNome').value = dep.nome;
                document.getElementById('depProduto').value = dep.produto;
                document.getElementById('depTexto').value = dep.texto;
                if (dep.foto) {
                    document.getElementById('depFotoPreview').src = dep.foto;
                    document.getElementById('depFotoPreview').style.display = 'block';
                }
            } else {
                document.getElementById('tituloDep').textContent = 'Novo Depoimento';
                document.getElementById('depId').value = '';
            }
        }

        function salvarDepoimento(e) {
            e.preventDefault();
            const id = document.getElementById('depId').value;
            const foto = document.getElementById('depFotoPreview').src;
            const dep = {
                id: id ? parseInt(id) : Date.now(),
                nome: document.getElementById('depNome').value,
                produto: document.getElementById('depProduto').value,
                texto: document.getElementById('depTexto').value,
                foto: foto && !foto.includes('blob:') ? foto : ''
            };
            
            if (id) {
                const idx = dados.depoimentos.findIndex(d => d.id === parseInt(id));
                dados.depoimentos[idx] = dep;
            } else {
                dados.depoimentos.push(dep);
            }
            salvarDados();
            renderizarDepoimentosAdmin();
            fecharModal('modalDepoimento');
            alert('‚úÖ Depoimento salvo!');
        }

        function editarDep(id) {
            abrirModalDepoimento(id);
        }

        function excluirDep(id) {
            if (confirm('Excluir?')) {
                dados.depoimentos = dados.depoimentos.filter(d => d.id !== id);
                salvarDados();
                renderizarDepoimentosAdmin();
            }
        }

        // Modais
        function fecharModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        // ==================== SITE P√öBLICO ==================== 
        function renderizarSitePublico() {
            const root = document.documentElement;
            root.style.setProperty('--cor-primaria', dados.config.cores.primaria);
            root.style.setProperty('--cor-secundaria', dados.config.cores.secundaria);

            // Logo
            const navLogo = document.getElementById('navLogo');
            if (dados.config.logo) {
                navLogo.innerHTML = `<img src="${dados.config.logo}" alt="${dados.config.nome}">`;
            } else {
                navLogo.innerHTML = `<span class="navbar-logo-text">‚ö° ${dados.config.nome}</span>`;
            }

            // Background
            if (dados.config.bg) {
                document.getElementById('heroSection').style.backgroundImage = `linear-gradient(135deg,rgba(0,0,0,0.7),rgba(0,0,0,0.5)),url('${dados.config.bg}')`;
            }

            // Textos
            document.getElementById('heroNome').textContent = dados.config.nome;
            document.getElementById('heroSubtitulo').textContent = dados.config.subtitulo;
            document.getElementById('heroDestaque').textContent = dados.config.destaque;
            document.getElementById('footerNome').textContent = dados.config.nome;
            document.getElementById('footerEndereco').textContent = dados.config.endereco;

            // WhatsApp
            const whatsUrl = `https://wa.me/${dados.config.whatsapp}?text=Ol√°! Quero conhecer os ve√≠culos el√©tricos`;
            document.getElementById('whatsappFlutuante').href = whatsUrl;
            document.getElementById('navWhatsapp').href = whatsUrl;
            document.getElementById('navWhatsapp').textContent = 'üì± WhatsApp';
            document.getElementById('footerWhatsapp').href = whatsUrl;
            document.getElementById('footerWhatsapp').textContent = 'üì± WhatsApp';

            // Instagram
            const instaUrl = `https://instagram.com/${dados.config.instagram.replace('@','')}`;
            document.getElementById('navInstagram').href = instaUrl;
            document.getElementById('navInstagram').textContent = `üì∏ ${dados.config.instagram}`;
            document.getElementById('footerInstagram').href = instaUrl;
            document.getElementById('footerInstagram').textContent = `üì∏ ${dados.config.instagram}`;

            // Filtros
            if (dados.categorias.length > 0) {
                document.getElementById('filtrosContainer').style.display = 'block';
                const filtros = document.getElementById('filtros');
                filtros.innerHTML = '<button class="filtro-btn active" onclick="filtrar(\'todos\')">üî• Todos</button>';
                dados.categorias.forEach(cat => {
                    const btn = document.createElement('button');
                    btn.className = 'filtro-btn';
                    btn.textContent = `${cat.icone} ${cat.nome}`;
                    btn.onclick = () => filtrar(cat.id);
                    filtros.appendChild(btn);
                });
            }

            renderizarProdutosPublico();

            // Depoimentos
            if (dados.depoimentos.length > 0) {
                document.getElementById('depoimentosSection').style.display = 'block';
                renderizarDepoimentosPublico();
            }
        }

        function filtrar(catId) {
            categoriaAtual = catId;
            document.querySelectorAll('.filtro-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderizarProdutosPublico();
        }

        function renderizarProdutosPublico() {
            const grid = document.getElementById('produtosGridPublic');
            grid.innerHTML = '';
            galerias = {};

            let prods = dados.produtos;
            if (categoriaAtual !== 'todos') {
                prods = dados.produtos.filter(p => p.categoria === categoriaAtual);
            }

            prods.forEach(prod => {
                const cat = dados.categorias.find(c => c.id === prod.categoria);
                const card = document.createElement('div');
                card.className = 'produto-card-public';

                let galHTML = '';
                if (prod.fotos && prod.fotos.length > 0) {
                    const fotosHTML = prod.fotos.map(f => `<div class="galeria-item"><img src="${f}" alt="${prod.nome}"></div>`).join('');
                    const dotsHTML = prod.fotos.map((_, i) => `<span class="galeria-dot ${i===0?'active':''}" onclick="irFoto('p${prod.id}',${i})"></span>`).join('');
                    galHTML = `
                        <div class="produto-galeria" id="p${prod.id}">
                            <div class="galeria-main" id="gal${prod.id}">${fotosHTML}</div>
                            ${prod.fotos.length > 1 ? `
                                <div class="galeria-nav">
                                    <button class="galeria-btn" onclick="navGal('p${prod.id}',-1)">‚Äπ</button>
                                    <button class="galeria-btn" onclick="navGal('p${prod.id}',1)">‚Ä∫</button>
                                </div>
                                <div class="galeria-dots">${dotsHTML}</div>
                            ` : ''}
                        </div>
                    `;
                    galerias[`p${prod.id}`] = {atual:0, total:prod.fotos.length};
                } else {
                    const icone = cat ? cat.icone : 'üõ¥';
                    galHTML = `<div class="produto-galeria"><div class="galeria-item"><div class="galeria-placeholder">${icone}</div></div></div>`;
                }

                let specs = '';
                if (prod.velocidade) specs += `<div class="spec-item"><span class="spec-label">Velocidade</span><span class="spec-value">${prod.velocidade}</span></div>`;
                if (prod.autonomia) specs += `<div class="spec-item"><span class="spec-label">Autonomia</span><span class="spec-value">${prod.autonomia}</span></div>`;
                if (prod.potencia) specs += `<div class="spec-item"><span class="spec-label">Pot√™ncia</span><span class="spec-value">${prod.potencia}</span></div>`;
                if (prod.bateria) specs += `<div class="spec-item"><span class="spec-label">Bateria</span><span class="spec-value">${prod.bateria}</span></div>`;

                const msg = prod.msgWhats || `Ol√°! Tenho interesse no ${prod.nome}`;
                const whatsUrl = `https://wa.me/${dados.config.whatsapp}?text=${encodeURIComponent(msg)}`;

                card.innerHTML = `
                    ${galHTML}
                    <div class="produto-info">
                        ${cat ? `<span class="produto-categoria-public">${cat.icone} ${cat.nome}</span>` : ''}
                        <h3 class="produto-nome-public">${prod.nome}</h3>
                        ${prod.descricao ? `<p class="produto-descricao">${prod.descricao}</p>` : ''}
                        ${specs ? `<div class="specs"><div class="specs-grid">${specs}</div></div>` : ''}
                        <div class="preco-section">
                            ${prod.precoDe ? `<div class="preco-de">De: R$ ${prod.precoDe}</div>` : ''}
                            <div class="preco-por">R$ ${prod.preco}</div>
                            ${prod.parc12 ? `<div class="preco-parcelado" style="color:#4CAF50;font-weight:700;font-size:1.15em;margin-top:10px;">12x de R$ ${prod.parc12} ${prod.parc12SemJuros ? '<span style="background:#4CAF50;color:white;padding:4px 10px;border-radius:5px;font-size:0.85em;margin-left:8px;">SEM JUROS</span>' : ''}</div>` : ''}
                            ${prod.parc18 ? `<div class="preco-parcelado" style="margin-top:8px;">18x de R$ ${prod.parc18} ${prod.parc18SemJuros ? '<span style="background:#4CAF50;color:white;padding:4px 10px;border-radius:5px;font-size:0.85em;margin-left:8px;">SEM JUROS</span>' : ''}</div>` : ''}
                            ${prod.parc24 ? `<div class="preco-parcelado" style="margin-top:8px;">24x de R$ ${prod.parc24} ${prod.parc24SemJuros ? '<span style="background:#4CAF50;color:white;padding:4px 10px;border-radius:5px;font-size:0.85em;margin-left:8px;">SEM JUROS</span>' : ''}</div>` : ''}
                            ${prod.parcelas ? `<div class="preco-parcelado" style="margin-top:8px;">${prod.parcelas}x de R$ ${prod.valParc}</div>` : ''}
                        </div>
                        <a href="${whatsUrl}" class="btn-whatsapp">üì± Consultar no WhatsApp</a>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function navGal(id, dir) {
            const gal = galerias[id];
            gal.atual = (gal.atual + dir + gal.total) % gal.total;
            document.getElementById('gal' + id.slice(1)).style.transform = `translateX(-${gal.atual * 100}%)`;
            document.querySelectorAll(`#${id} .galeria-dot`).forEach((d,i) => {
                d.classList.toggle('active', i === gal.atual);
            });
        }

        function irFoto(id, idx) {
            galerias[id].atual = idx;
            document.getElementById('gal' + id.slice(1)).style.transform = `translateX(-${idx * 100}%)`;
            document.querySelectorAll(`#${id} .galeria-dot`).forEach((d,i) => {
                d.classList.toggle('active', i === idx);
            });
        }

        function renderizarDepoimentosPublico() {
            const grid = document.getElementById('depoimentosGridPublic');
            grid.innerHTML = '';
            dados.depoimentos.forEach(dep => {
                const card = document.createElement('div');
                card.className = 'depoimento-card-public';
                const fotoHTML = dep.foto 
                    ? `<img src="${dep.foto}" alt="${dep.nome}" class="depoimento-foto">`
                    : `<div class="depoimento-foto-placeholder">üë§</div>`;
                card.innerHTML = `
                    <div class="depoimento-header">
                        ${fotoHTML}
                        <div class="depoimento-info">
                            <h4>${dep.nome}</h4>
                            <p class="depoimento-produto">Comprou: ${dep.produto}</p>
                        </div>
                    </div>
                    <p class="depoimento-texto">"${dep.texto}"</p>
                `;
                grid.appendChild(card);
            });
        }
    </script>
</body>
</html>
